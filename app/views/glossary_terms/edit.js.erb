var cancel_html = $("#term-container").html();
$("#term-container").html('<%=j render "form", language: @language, glossary_term: @glossary_term %>');
$('#edit_term_button').hide();
$('#cancel_term_button').show();

$('#glossary_term_reference_type_id').on('change', function(){
  if ($('#glossary_term_reference_type_id > option:selected').data('code') == 'M'){
    $('#glossary_term_glossary_term_id').val('');
    $('#glossary_term_glossary_term_id').prop('disabled', true);
    $('#glossary_term_glossary_term_id').prop('required', false);
  } else {
    $('#glossary_term_glossary_term_id').prop('disabled', false);
    $('#glossary_term_glossary_term_id').prop('required', true);
  }
});

$("#glossary_term_reference_type_id").parents('form').submit(function(){
  $('#glossary_term_glossary_term_id').prop('disabled', false);
});

$('#glossary_term_reference_type_id').change();

$('#cancel_term_edit').on('click', function(){
  $("#term-container").html(cancel_html);
  $('#edit_term_button').show();
  $('#cancel_term_button').hide();
});

$('#cancel_term_button').on('click', function(){
  $("#term-container").html(cancel_html);
  $('#edit_term_button').show();
  $('#cancel_term_button').hide();
});
