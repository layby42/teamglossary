%h4.title
  = language.is_base_language? ? 'TRANSLATIONS' : 'OTHER TRANSLATIONS'

%table.table.table-striped.table-bordered
  %tbody
    - translations.each do |translation|
      %tr
        %th.col-xs-6= translation.language.english_name
        %td= link_to translation.term, language_glossary_name_path(translation.language_id, item), remote: request.xhr?

    - if !request.xhr? && current_user && current_user.manager_or_editor?
      - language_ids = current_user.languages.non_base.pluck(:id) - translations.collect(&:language_id) - [language.id]
      - unless language_ids.empty?
        %tr
          %td
            = select_tag 'new_translation_language_id', new_translation_language_options(language_ids), class: 'form-control', autocomplete: 'off'
          %td{style: 'vertical-align: middle;'}
            = link_to 'javascript:void(0);', class: 'text-muted', id: 'add_translation_link', data: {url: language_glossary_name_url(language_ids.first, item)} do
              %i.fa.fa-plus-circle
              add translation

